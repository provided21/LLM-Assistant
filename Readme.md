# **智能助手系统**  
**基于阿里云通义千问API的多功能工具集成助手**  

## **📌 功能概述**  
- **查询当前时间**  
- **查询城市天气**（支持多城市以及未来3天）  
- **查询豆瓣电影影评**（需本地影评数据）  
- **查询股票实时行情**（A股市场）  
- **数学表达式计算**  

---

## **🛠️ 环境要求**  
- **Python 3.8+**  
- **依赖库**：见 `requirements.txt`  
- **API 密钥**： [阿里云DashScope API Key](https://help.aliyun.com/zh/dashscope/) 
- **说明**：由于用于提交作业，文中所有api都使用的是我个人的私钥，请勿外传。
---

## **🚀 快速开始**  

### **1. 克隆仓库**  
```bash
git clone https://github.com/your_username/smart-assistant.git
cd smart-assistant
```

### **2. 安装依赖**  
```bash
pip install -r requirements.txt
```

### **3. 配置API密钥**  
在 `main.py` 中替换以下内容：  
```python
# 替换为你的阿里云API Key
API_KEY = "sk-your-api-key-here"
```

### **4. 准备影评数据（可选）**  
- 将豆瓣影评JSON文件放入 `movie_data/` 文件夹，文件命名格式为 `电影名.json`  
- 示例文件结构：  
  ```
  movie_data/
    ├── 肖申克的救赎.json
    └── 阿甘正传.json
  ```

### **5. 运行程序**  
```bash
python main.py
```

---

## **🎯 使用示例**  

### **1. 查询天气**  
```
请输入：北京和上海5月19日天气如何？
最终答案：
2025年5月19日，北京的天气晴朗，气温在16°C到31°C之间，没有降水。
上海的天气多云，气温在19°C到31°C之间，也没有降水。
```
注：需输入具体时间

### **2. 查询影评**  
```
请输入：给我几条肖申克的救赎的有趣的短评
最终答案：以下是《肖申克的救赎》的一些有趣的短评：

1. “有些电影是时代的经典，而这部则是灵魂的自由颂。”
2. “在绝望中寻找希望，这部电影教会我如何坚持。”
3. “安迪的微笑总是让人感到温暖，仿佛能照亮整个肖申克监狱。”
4. “每次看都有新的感悟，这就是好电影的魅力吧！”
5. “摩根·弗里曼的声音简直是为这部电影量身定制的。”
```
注：数据库目前只支持查询20部电影相关信息以及短评，可在movie_data文件中查看。

### **3. 查询股票**  
```
请输入：招商银行股票
最终答案：
招商银行的当前股价为44.27元，较前一交易日下跌了1.447%。
```

### **4. 计算数学表达式**  
```
请输入：以10为底的对数5是多少
最终答案：以10为底的对数5（即 $ \log_{10}(5) $）的结果大约是：
**0.69897**
```

### **5. 退出程序**  
回答完相关问题后，程序自动退出。

---

## **⚠️ 注意事项**  
1. **天气API限制**：默认使用心知天气免费版（每日100次请求）。  
2. **股票数据**：仅支持A股实时行情，需联网获取。   

---

## **📜 许可证**  
MIT License  

--- 
